<app-header></app-header>
<div class="flex flex-row">
  <div class="basis-1/12">
    <app-navbar></app-navbar>
  </div>
  <div class="basis-11/12 border border-orange-200 p-5">

    <div class="mt-0">
      <h1 [appTitleH1]="'Product'"> </h1>
      <input [(ngModel)]="search" (keyup)="fncSearch()" type="search" class="mt-3 form-input rounded-full w-full"
        placeholder="Search.. Id, Price, Title" />
    </div>
    <hr class="mt-3" />

    <div style="height: 515px;" class="flex flex-col overflow-x-hidden overflow-y-scroll">
      <div class="flex-grow overflow-x-auto sm:-mx-6 lg:-mx-8">
        <div class="py-2 inline-block min-w-full sm:px-6 lg:px-8">
          <div class="">
            <table class="relative min-w-full">
              <thead class="bg-white border-b">
                <tr>
                  <th scope="col"
                    class="sticky top-0 text-sm font-medium text-gray-900 px-6 py-4 border-r bg-orange-300 text-left">
                    #
                  </th>
                  <th scope="col"
                    class="sticky top-0 text-sm font-medium text-gray-900 px-6 py-4 border-r bg-orange-300 text-left">
                    Id
                  </th>
                  <th scope="col"
                    class="sticky top-0 text-sm font-medium text-gray-900 px-6 py-4 border-r bg-orange-300 text-left">
                    Title
                  </th>
                  <th scope="col"
                    class="sticky top-0 text-sm font-medium text-gray-900 px-6 py-4 border-r bg-orange-300 text-left">
                    Price
                  </th>
                  <th scope="col"
                    class="sticky top-0 text-sm font-medium text-gray-900 px-6 py-4 border-r bg-orange-300 text-left">
                    Image
                  </th>
                  <th scope="col"
                    class="sticky top-0 text-sm font-medium text-gray-900 px-6 py-4 border-r bg-orange-300 text-center">
                    Add to Cart
                  </th>
                </tr>
              </thead>
              <tbody>

                <tr class="bg-white border-b transition duration-300 ease-in-out hover:bg-orange-100"
                  *ngFor="let item of arr; let i = index">
                  <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ i + 1 }}</td>
                  <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"> <a
                      (click)="funcDetail( i ); ngxSmartModalService.getModal('myModal').open();"
                      class="cursor-pointer"> {{ item.productId }} </a> </td>
                  <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                    {{ item.productName }}
                  </td>
                  <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                    {{ item.price! | tlPipe }}
                  </td>
                  <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                    <img src="{{ item.images![0].normal! }}" class="w-10" />
                  </td>
                  <td class="text-sm text-center text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                    <button (click)="fncAddToCart(item.productId!)"
                      class="mt-2 px-5 py-2 rounded bg-orange-300 text-white">
                      <fa-icon class="text-2xl" [icon]="faCartShopping"></fa-icon>
                    </button>
                  </td>
                </tr>


              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <ngx-smart-modal #myModal identifier="myModal">
      <h1 class="text-2xl text-center">{{ item?.productName }}</h1>
      <img src='{{item.images && item.images[0].normal }}' class="w-full" />
      <p class="mt-2">{{ item?.brief }}</p>
      <p class="mt-4">{{ item?.description }}</p>
      <div class="text-right text-2xl text-orange-600"> {{ item?.price }} </div>
      <button class=""></button>
      <button (click)="fncAddToCart(item.productId!)" class="mt-3 px-2 py-2 rounded-full bg-orange-500 text-white">
        Add to Cart
      </button>
    </ngx-smart-modal>

  </div>
</div>